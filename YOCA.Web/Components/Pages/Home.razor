@page "/"
@inject DayOfCodeDataAccess dayData

<PageTitle>Home</PageTitle>

<About/>

<MudAlert Severity="Severity.Normal">
    This is a work in progress project. You can find the source code at:
    <MudLink Href="https://www.github.com/webluke/YOCA" Target="_blank" Typo="Typo.body2" Color="Color.Primary">GitHub/WebLuke/YOCA</MudLink>
</MudAlert>

<br />
@if (days != null)
{
    foreach (var day in days)
    {
        <DayView day="@day" />
        <br />
    }

}

@code {
    private IEnumerable<DayOfCodeModel>? days { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await RefreshData();
    }

    private async Task RefreshData()
    {
        days = await dayData.GetDays();
    }
}